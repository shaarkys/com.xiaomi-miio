# Project Agents.md Guide for OpenAI Codex

This file provides guidance for OpenAI Codex and other AI agents working on Homey apps.
You must always respect Homey SDK 3 - https://apps.developer.homey.app/ and APP SDK references - https://apps-sdk-v3.developer.homey.app/

## Project Structure for Homey App Navigation

- `/app.js`: Homey App class entrypoint
- `/api.js`: optional Web API or app API helpers
- `/app.json`: app manifest; if `.homeycompose/` exists treat this as generated output
- `/.homeycompose`: source-of-truth manifest parts (app, drivers, capabilities, flows)
  - `/app.json`
  - `/drivers`
  - `/capabilities`
  - `/flow`
- `/.homeybuild`: generated build output; do not edit
- `/drivers/<driver_id>`: driver and device code plus pairing views
  - `driver.js`, `device.js`, `assets/`, `pair/`
- `/lib`: shared modules and helpers
- `/assets`: app icons and images
- `/settings`: settings views (HTML/JS)
- `/locales`: translation strings
- `/docs`, `/scripts`: project docs and helper scripts
- `/tests`: test files if present
- `/node_modules`: third-party dependencies; never edit
- `/settings`: Homey App dependent settings

## Coding Conventions for Homey Apps

- Use the language already in the file or repo (JavaScript here; use TypeScript only when the app is TypeScript).
- Follow existing Homey SDK patterns (`Homey.App`, `Homey.Driver`, `Homey.Device`) and file layout.
- Keep drivers and devices small and focused; shared logic belongs in `lib/`.
- Add or update `locales/*` entries when adding UI strings (pairing, settings, flow cards).
- Update capability and flow definitions in `.homeycompose/` and keep driver/device code in sync.
- Add comments only for complex logic. Maintain existing comments and change only in case they are not correct anymore due to the performed changes
- Any JSON must follow Athom Homey SDK baselines and must not contain any comment

## Homey Compose Rules

- If `.homeycompose/` exists, edit it instead of the built `app.json`.
- Do not edit `.homeybuild/` by hand; it is generated by the Homey CLI.

## Testing Requirements for OpenAI Codex

OpenAI Codex should not run any tests.

## Pull Request Guidelines for OpenAI Codex

OpenAI Codex should not submit any pull request or make GitHub modifications.

## Programmatic Checks for OpenAI Codex

You can validate app integrity after changes by running :
homey app validate
